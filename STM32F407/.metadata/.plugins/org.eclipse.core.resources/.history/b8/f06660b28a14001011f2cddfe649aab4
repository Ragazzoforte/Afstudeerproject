#ifndef TUSB_CONFIG_H_
#define TUSB_CONFIG_H_

#ifdef __cplusplus
 extern "C" {
#endif

// --- Board en MCU configuratie ---
#define BOARD_TUD_RHPORT       0
#define CFG_TUSB_RHPORT0_MODE  (OPT_MODE_DEVICE | OPT_MODE_FULL_SPEED)
#define BOARD_TUD_MAX_SPEED    OPT_MODE_FULL_SPEED
#define CFG_TUSB_MCU           OPT_MCU_STM32F4

// --- OS configuratie ---
#define CFG_TUSB_OS            OPT_OS_FREERTOS

// --- USB Device Stack ---
#define CFG_TUD_ENABLED        1
#ifndef CFG_TUD_ENDPOINT0_SIZE
  #define CFG_TUD_ENDPOINT0_SIZE 64
#endif

// --- Class Configuratie ---
#define CFG_TUD_CDC    0         // Schakel CDC uit
#define CFG_TUD_AUDIO  1         // Schakel Audio in
#define CFG_TUD_MSC    0
#define CFG_TUD_HID    0
#define CFG_TUD_MIDI   0
#define CFG_TUD_VENDOR 0

// --- Audio Specifieke Parameters ---
// Totale lengte van de audio functie descriptor (inclusief IAD)
// Pas deze waarde aan op basis van je layout en/of voorbeelden.
#define TUD_AUDIO_HEADSET_STEREO_DESC_LEN  120
#define CFG_TUD_AUDIO_FUNC_1_DESC_LEN      TUD_AUDIO_HEADSET_STEREO_DESC_LEN
#define CFG_TUD_AUDIO_FUNC_1_CTRL_BUF_SZ   64
#define CFG_TUD_AUDIO_FUNC_1_N_AS_INT      1

// Streaming parameters voor de audio data:
// Voor Microfoon (device -> host, IN endpoint)
#define CFG_TUD_AUDIO_FUNC_1_N_CHANNELS_TX                1
#define CFG_TUD_AUDIO_FUNC_1_FORMAT_1_N_BYTES_PER_SAMPLE_TX 2
#define CFG_TUD_AUDIO_FUNC_1_FORMAT_1_RESOLUTION_TX         16
// Voor Speakers (host -> device, OUT endpoint)
#define CFG_TUD_AUDIO_FUNC_1_N_CHANNELS_RX                1
#define CFG_TUD_AUDIO_FUNC_1_FORMAT_1_N_BYTES_PER_SAMPLE_RX 4
#define CFG_TUD_AUDIO_FUNC_1_FORMAT_1_RESOLUTION_RX         24
#define CFG_TUD_AUDIO_FUNC_1_MAX_SAMPLE_RATE 48000

// Endpoint nummering voor audio (zorg dat deze uniek zijn)
#define EPNUM_AUDIO_OUT   0x03  // OUT endpoint voor Speakers
#define EPNUM_AUDIO_IN    0x83  // IN endpoint voor Microfoon (0x80 bit voor IN)
#define EPNUM_AUDIO_INT   0x04  // Optioneel: Interrupt endpoint

// Geheugenplaatsing voor USB-overdrachten (optioneel)
#ifndef CFG_TUSB_MEM_SECTION
  #define CFG_TUSB_MEM_SECTION
#endif
#ifndef CFG_TUSB_MEM_ALIGN
  #define CFG_TUSB_MEM_ALIGN __attribute__ ((aligned(4)))
#endif

#ifdef __cplusplus
 }
#endif

#endif /* TUSB_CONFIG_H_ */
